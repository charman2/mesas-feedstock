diff --git a/setup.py b/setup.py
index 49376a9..0923274 100644
--- a/setup.py
+++ b/setup.py
@@ -43,18 +43,20 @@ config = {
                     },
     'scripts': [],
     'name': 'mesas',
-    'ext_modules': [Extension(name='solve', sources=[add_mod_dir, util.convert_path('mesas/sas/solve.f90')],
-                              include_dirs=[numpy.get_include()],
+    'ext_modules': [Extension(name='solve', sources=[util.convert_path('mesas/sas/solve.f90')],
+                              include_dirs=[numpy.get_include(), "mesas/sas/cdflib90/_build/mod"],
+                              library_dirs=["mesas/sas/cdflib90/_build/mod", "mesas/sas/cdflib90/_build"],
                               extra_f90_compile_args=["-Ofast", '-fno-stack-arrays'],
-                              libraries=reversed(cdflibnames))],
+                              libraries=["cdf_beta_mod", "cdf_gamma_mod"],
+                             )],
 }
 
-config['libraries'] = []
-for src in cdflibnames:
-    config['libraries'] += [(
-        src,
-        {'sources': [f'mesas/sas/cdflib90/{src}.f90'], 'extra_f90_compile_args': ["-Ofast"]}
-    )]
+# config['libraries'] = []
+# for src in cdflibnames:
+#     config['libraries'] += [(
+#         src,
+#         {'sources': [f'mesas/sas/cdflib90/{src}.f90'], 'extra_f90_compile_args': ["-Ofast"]}
+#     )]
 #extra_f90_compile_args=["-Ofast", '-fno-stack-arrays'],
 #extra_f90_compile_args=["-fast", '-acc', '-Minfo', '-Mvect=levels:10', '-ta=tesla:cc35'],
 #extra_f90_compile_args=["-fast", '-acc', '-Minfo', '-ta=multicore'],
